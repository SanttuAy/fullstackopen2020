(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),u=n(13),i=n.n(u),r=n(2),l=(n(19),n(3)),c=n.n(l),s="/api/persons",m=function(){return c.a.get(s).then((function(e){return e.data}))},f=function(e){return c.a.post(s,e).then((function(e){return e.data}))},d=function(e,t){return c.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},b=function(e){return c.a.delete("".concat(s,"/").concat(e))},h=function(e){var t=e.persons.filter((function(t){return t.name.toLocaleLowerCase().includes(e.filtteri.toLocaleLowerCase())})),n=e.showAll?e.persons:t;return o.a.createElement("ul",null,n.map((function(t,n){return o.a.createElement("li",{key:n}," ",t.name," ",t.number,o.a.createElement("button",{onClick:function(){return function(t,n){var a="Poistetaanko ".concat(n," ?");window.confirm(a)?b(t).then((function(a){e.setPersons(e.persons.filter((function(e){return e.id!==t}))),e.setViesti("".concat(n," poistettiin luettelosta")),setTimeout((function(){e.setViesti(null)}),5e3)})).catch((function(e){console.log("Poisto ei onnistu!")})):console.log("poistoa ei tehty")}(t.id,t.name)}},"delete"))})))},p=function(e){return o.a.createElement("div",null,o.a.createElement("button",{onClick:e.tarkistus,type:"submit"},"add"))},v=function(e){var t=e.addNewConnection,n=e.newName,a=e.handleNameChange,u=e.newNumber,i=e.handleNumberChange,r=e.tarkistus;return o.a.createElement("form",{onSubmit:t},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:n,onChange:a})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:u,onChange:i})),o.a.createElement(p,{tarkistus:r}))},E=function(e){var t=e.viesti,n=e.varoitus;return null===t||null!==n?null:o.a.createElement("div",{className:"ilmo"},t)},w=function(e){var t=e.varoitus;if(null===t)return null;return o.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:40,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},t)},j=function(){var e=Object(a.useState)([{name:"Arto Hellas1",number:"040-1231244"},{name:"Ada Lovelace1",number:"39-44-5323523"},{name:"Dan Abramov1",number:"12-43-234345"},{name:"Mary Poppendieck1",number:"39-23-6423122"}]),t=Object(r.a)(e,2),n=t[0],u=t[1],i=Object(a.useState)(""),l=Object(r.a)(i,2),c=l[0],s=l[1],b=Object(a.useState)(!1),p=Object(r.a)(b,2),j=p[0],g=p[1],O=Object(a.useState)(""),k=Object(r.a)(O,2),C=k[0],L=k[1],N=Object(a.useState)(!0),S=Object(r.a)(N,2),y=S[0],P=S[1],A=Object(a.useState)(""),H=Object(r.a)(A,2),T=H[0],V=H[1],B=Object(a.useState)(-1),D=Object(r.a)(B,2),J=D[0],x=D[1],z=Object(a.useState)(null),I=Object(r.a)(z,2),M=I[0],R=I[1],q=Object(a.useState)(null),F=Object(r.a)(q,2),G=F[0],K=F[1];Object(a.useEffect)((function(){m().then((function(e){u(e)}))}),[]);return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(E,{viesti:M,persons:n,varoitus:G}),o.a.createElement(w,{varoitus:G,persons:n}),o.a.createElement("div",null,"filter show with ",o.a.createElement("input",{value:T,onChange:function(e){V(e.target.value),P(""===T)}})),o.a.createElement("h3",null,"add a new"),o.a.createElement(v,{addNewConnection:function(e){e.preventDefault();var t={name:c,number:C},a=j?window.confirm("".concat(c," on jo lis\xe4tty luetteloon. P\xe4ivitet\xe4\xe4nk\xf6 tiedot?")):f(t).then((function(e){u(n.concat(e)),R("Henkil\xf6 nimelt\xe4 ".concat(c," lis\xe4ttiin puhelinluetteloon")),setTimeout((function(){R(null)}),5e3),s(""),L("")}));j&&g(!1),!0===a&&(d(J,t).then((function(e){u(n.map((function(t){return t.id!==J?t:e}))),R("Henkil\xf6n ".concat(c," tiedot p\xe4ivitettiin")),setTimeout((function(){R(null)}),5e3)})).catch((function(e){K("Henkil\xf6n ".concat(c," tiedot on jo poistettu puhelinluettelosta!")),setTimeout((function(){K(null)}),5e3),u(n.filter((function(e){return e.name!==c})))})),s(""),L(""))},newName:c,handleNameChange:function(e){s(e.target.value)},newNumber:C,handleNumberChange:function(e){L(e.target.value)},tarkistus:function(){if(n.map((function(e){return e.name.toLocaleLowerCase()})).includes(c.toLocaleLowerCase())){g(!0);var e=n.find((function(e){return e.name.toLocaleLowerCase()===c.toLocaleLowerCase()}));x(e.id)}}}),o.a.createElement("h3",null,"Numbers"),o.a.createElement(h,{persons:n,filtteri:T,showAll:y,setPersons:u,viesti:M,setViesti:R}))};i.a.render(o.a.createElement(j,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5cc3988a.chunk.js.map